<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="text/javascript" src="./jquery.3.4.0.js"></script>
    <style>
        .fillbg {
            background-color: rgba(0, 0, 0, 0.6);
            bottom: 0;
            height: 100%;
            left: 0; 
            opacity: 0; 
            position: fixed; 
            right: 0; 
            top: 0; 
            width: 100%; 
            z-index: 1100; 
            display:none; 
        }
.fillbg-active {
     opacity: 0.5; 
     display:block; 
    }
    </style>
</head>
<body>
    <img class="comment_pics" width="500px" height="300px" src="./img/3.jpg"/>

<div class="bg">
    <img class="bgImg" style="max-width: 100%; max-height: 100%; position: fixed;" src="">
</div>

<script>
    var newImg;
    var clientH=$(window).height();
    var clientW=$(window).width();
    var w = '500';
    var h = '300';
    $(document).ready(function(){
        $(".comment_pics").bind("click", function(){
            newImg = $(this)[0].src;
            $("body").append('<div class="fillbg"></div>');
            //插入遮罩
            $(".fillbg").addClass("fillbg-active");
            //
            $('.bgImg').css({'width': w+"px",'height': h+"px",'top':(clientH-h)/2+"px",'left':(clientW-w)/2+"px",'z-index':1101});
            $('.bgImg').attr("src",newImg);
        });

        $(".bgImg").bind("click", function(){
            $(".fill-input").removeClass("fill-input-active");
            setTimeout(function(){
                $(".fillbg-active").removeClass("fillbg-active");
                $(".fillbg").remove();
            },900);
            $('.bgImg').css({'width': '0px','height': '0px'});
            $('.bgImg').attr("src",'');
        });
    });
    
</script>
</body>
</html>